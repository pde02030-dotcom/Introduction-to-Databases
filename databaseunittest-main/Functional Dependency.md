## 💡 데이터베이스 정규화의 핵심: 함수 종속성 (Functional Dependency, FD)

데이터베이스의 **함수 종속성(Functional Dependency, FD)**은 관계형 모델의 핵심 개념이자 **정규화(Normalization)**를 수행하는 데 필수적인 기초 원리입니다. 이는 릴레이션(테이블)의 속성들 간에 존재하는 **제약 조건 또는 논리적 연결 관계**를 수학적으로 정의합니다.

---

## I. 함수 종속성의 정의

함수 종속성은 릴레이션 $R$에서 두 속성 집합 $X$와 $Y$가 있을 때, $X$의 값이 주어지면 $Y$의 값이 **유일하게 결정되는 관계**를 의미합니다.

### 1. **표기:**
$$X \rightarrow Y$$

* **의미:** "$X$가 $Y$를 함수적으로 결정한다 (X determines Y)."
* **좌변:** 결정자(Determinant) $X$
* **우변:** 종속자(Dependent) $Y$

### 2. **해석:**
릴레이션 내에서 어떤 두 튜플(행)이 결정자 $X$에 대해 같은 값을 가진다면, 그 두 튜플은 종속자 $Y$에 대해서도 반드시 같은 값을 가져야 합니다.

**예시:** `학생 테이블 (Student Table)`
$$\text{학번} \rightarrow \text{이름}$$
* **해석:** 학번이 같다면, 그 학생의 이름은 반드시 같아야 합니다. (당연한 관계)
$$\text{학번} \rightarrow \text{학과}$$
* **해석:** 학번이 같다면, 그 학생의 학과는 반드시 같아야 합니다.

---

## II. 함수 종속성의 유형

함수 종속성이 결정자(X)와 종속자(Y)의 관계에 따라 다음과 같이 세분화됩니다.

### 1. 완전 함수 종속 (Full Functional Dependency)

* **정의:** 종속자 $Y$가 결정자 $X$의 **전체** 속성 집합에만 종속되며, $X$의 **어떤 진부분 집합에도 종속되지 않을 때**를 말합니다.
* **핵심:** **정규화(2차 정규형, 2NF)의 목표**입니다.

**예시:** `수강 테이블` ($\text{키} = \{\text{학번}, \text{과목번호}\}$)
$$\{\text{학번}, \text{과목번호}\} \rightarrow \text{성적}$$
* 성적은 학번만으로는 결정되지 않고, 과목번호만으로도 결정되지 않으며, **두 속성 모두**가 있어야 결정됩니다.

### 2. 부분 함수 종속 (Partial Functional Dependency)

* **정의:** 종속자 $Y$가 결정자 $X$의 **진부분 집합($X' \subset X$)**에 의해 이미 결정될 때를 말합니다.
* **문제점:** 데이터 **중복(Redundancy)**과 **이상(Anomaly)**을 유발합니다. **2차 정규형 위반**의 원인이 됩니다.

**예시:** `수강 테이블` ($\text{키} = \{\text{학번}, \text{과목번호}\}$)
$$\text{학번} \rightarrow \text{학생이름}$$
* 학생이름은 키의 일부인 **학번**만으로 결정됩니다. (부분 함수 종속)

### 3. 이행적 함수 종속 (Transitive Functional Dependency)

* **정의:** $X \rightarrow Y$이고 $Y \rightarrow Z$ 일 때, **$X \rightarrow Z$** 관계가 성립하는 경우를 말합니다. 즉, $X$가 $Z$를 결정하는 과정에 **제3의 속성($Y$)**을 거치는 것입니다.
* **문제점:** 데이터 중복과 이상을 유발합니다. **3차 정규형 위반**의 원인이 됩니다.

**예시:** `직원 테이블` ($\text{키} = \{\text{직원번호}\}$)
$$\text{직원번호} \rightarrow \text{부서번호} \quad \text{그리고} \quad \text{부서번호} \rightarrow \text{부서위치}$$
* $\text{직원번호} \rightarrow \text{부서위치}$ 는 이행적 종속 관계입니다.

---

## III. 함수 종속성과 정규화

함수 종속성은 데이터베이스 정규화 단계의 기준이 됩니다.

| 정규형 | 함수 종속성 목표 |
| :--- | :--- |
| **1NF** | 모든 속성이 원자값(Atomic Value)을 갖도록 함. |
| **2NF** | **부분 함수 종속성** 제거 (키가 아닌 모든 속성이 기본 키 전체에 **완전 함수 종속**이어야 함). |
| **3NF** | **이행적 함수 종속성** 제거 (키가 아닌 속성이 다른 키가 아닌 속성에 종속되지 않아야 함). |
| **BCNF** | 모든 결정자가 **후보 키(Candidate Key)**가 되도록 함. (3NF의 강화된 형태) |

함수 종속성을 정확히 파악하는 것은 데이터베이스를 설계하는 단계에서 **중복을 최소화**하고 **데이터 일관성을 극대화**하는 초석이 됩니다.

